(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{41:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),i=c(25),n=c.n(i),r=(c(41),c(13)),l=c(16),o=c(3),d=c(19),u=c.n(d),j=c(1),b=function(){return Object(j.jsx)("nav",{className:"navbar is-light is-fixed-top is-mobile has-shadow","data-cy":"Nav",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"navbar-brand",children:[Object(j.jsx)(r.c,{to:"/",className:function(e){var t=e.isActive;return u()("navbar-item",{"is-active":t})},children:"My Articles"}),Object(j.jsx)(r.c,{to:"/addarticle",className:function(e){var t=e.isActive;return u()("navbar-item",{"is-active":t})},children:"Add Article"}),Object(j.jsx)(r.c,{to:"/newsapi",className:function(e){var t=e.isActive;return u()("navbar-item",{"is-active":t})},children:"Newsapi Articles"})]})})})},h=c(5),m=l.b,p=l.c,O=c(8),x=c(14),f=c(15),v=Object(f.c)({name:"articles",initialState:{articles:[],pinnedId:null,searchQuery:""},reducers:{setArticles:function(e,t){e.articles=t.payload},setPinnedId:function(e,t){e.pinnedId=t.payload},addArticle:function(e,t){return Object(x.a)(Object(x.a)({},e),{},{articles:[].concat(Object(O.a)(e.articles),[t.payload])})},removeArticle:function(e,t){return Object(x.a)(Object(x.a)({},e),{},{articles:e.articles.filter((function(e){return e.id!==t.payload}))})},searchArticles:function(e,t){e.searchQuery=t.payload}}}),g=(v.actions.setArticles,v.actions.setPinnedId),N=v.actions.addArticle,y=v.actions.searchArticles,A=v.actions.removeArticle,w=v.reducer,k=function(e){var t=e.id,c=e.author,a=e.description,s=e.title,i=Object(l.b)(),n=p((function(e){return e.articles.pinnedId}));return Object(j.jsxs)("div",{className:"column is-4-desktop is-6-tablet is-12-mobile",children:[Object(j.jsxs)("div",{className:"box",style:{height:"600px",overflow:"auto"},children:[Object(j.jsx)("img",{className:"image",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Flag_of_Ukraine.svg/1599px-Flag_of_Ukraine.svg.png?20100406171642",alt:"Slava Ukraini!"}),Object(j.jsxs)("p",{className:"is-italic",children:["Author:"," ".concat(c)]}),Object(j.jsx)("h2",{className:"title",children:s}),Object(j.jsx)("p",{className:"has-text-weight-medium is-family-sans-serif",children:a})]}),Object(j.jsxs)("div",{className:"columns is-gapless is-mobile mt-3",children:[Object(j.jsx)("div",{className:"column is-half",children:Object(j.jsx)("button",{className:u()("button is-info is-fullwidth is-small mr-2",{"is-success":n===t}),type:"button",onClick:function(){i(g(t))},children:n===t?"Pinned":"Pin"})}),Object(j.jsx)("div",{className:"column is-half",children:Object(j.jsx)("button",{className:"button is-danger is-fullwidth is-small ml-2",type:"button",onClick:function(){i(A(t))},children:"Remove"})})]})]})},C=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),c=t[0],s=t[1],i=m();return Object(j.jsx)("div",{className:"field has-addons",children:Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("input",{className:"input",type:"text",placeholder:"Search Article...",value:c,onChange:function(e){var t=e.target.value.toLowerCase();s(t),i(y(t))}})})})},S=function(){var e=p((function(e){return e.articles.articles})),t=p((function(e){return e.articles.searchQuery})),c=p((function(e){return e.articles.pinnedId})),s=Object(a.useState)([]),i=Object(h.a)(s,2),n=i[0],l=i[1];return Object(a.useEffect)((function(){l(function(e,t,c){var a=e.find((function(e){return e.id===t})),s=e.filter((function(e){return e.id!==t}));return a?[a].concat(Object(O.a)(s)).filter((function(e){var t=e.title,a=e.description,s=t.toLowerCase(),i=a.toLowerCase();return s.includes(c)||i.includes(c)})):e.filter((function(e){var t=e.title,a=e.description,s=t.toLowerCase(),i=a.toLowerCase();return s.includes(c)||i.includes(c)}))}(e,c,t))}),[e,c,t]),e.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"title",children:"My Articles"}),Object(j.jsx)(C,{}),Object(j.jsx)("div",{className:"container mt-5",children:Object(j.jsx)("div",{className:"columns is-multiline",children:n.map((function(e){var t=e.id,c=e.author,a=e.description,s=e.title;return Object(j.jsx)(k,{id:t,author:c,description:a,title:s},t)}))})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"title",children:"My Articles"}),Object(j.jsxs)("h1",{children:["There is no articles yet.",Object(j.jsx)(r.b,{to:"/addarticle",children:" Add some!"})]})]})},F=c(4),P=c.n(F),T=c(9);var I=function(e,t){return function(e,t){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a={method:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET"},s="https://newsapi.org/v2/everything?q=".concat(t,"&pageSize=10&apiKey=4a49838392ba45afa9771191dbb41ad3");return c&&(a.body=JSON.stringify(c),a.headers={"Content-Type":"application/json; charset=UTF-8"}),fetch(s+e,a).then((function(e){return e.json()}))}(e,t)},U=function(e,t){return I("&page=".concat(e),t)},_=Object(f.b)("articles/fetchArticles",function(){var e=Object(T.a)(P.a.mark((function e(t){var c,a,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.page,a=t.topic,e.next=3,U(c,a);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(f.c)({name:"apiArticles",initialState:{apiArticles:[],page:1,topic:"ukraine",status:"loading"},reducers:{increasePage:function(e){e.page+=1},resetPage:function(e){e.page=1},setTopic:function(e,t){e.topic=t.payload}},extraReducers:function(e){e.addCase(_.pending,(function(e){e.status="loading"})).addCase(_.fulfilled,(function(e,t){e.status="succeeded",e.apiArticles=t.payload.articles})).addCase(_.rejected,(function(e){e.status="failed"}))}}),B=L.reducer,M=L.actions.increasePage,D=L.actions.resetPage,E=L.actions.setTopic,J=function(e){var t=e.author,c=e.description,a=e.title,s=e.urlToImage,i=e.source;return Object(j.jsx)("div",{className:"column is-4-desktop is-6-tablet is-12-mobile",children:Object(j.jsxs)("div",{className:"box",style:{height:"600px",overflow:"auto"},children:[Object(j.jsx)("img",{className:"image",src:s||"https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Flag_of_Ukraine.svg/1599px-Flag_of_Ukraine.svg.png?20100406171642",alt:"Slava Ukraini!"}),Object(j.jsxs)("p",{className:"is-italic",children:["Author:"," ".concat(t||i.name)]}),Object(j.jsx)("h2",{className:"title",children:a}),Object(j.jsx)("p",{className:"has-text-weight-medium is-family-sans-serif",children:c})]})})},Q=function(){var e=m(),t=p((function(e){return e.apiArticles.page})),c=p((function(e){return e.apiArticles.topic})),s=Object(a.useState)(!1),i=Object(h.a)(s,2),n=i[0],r=i[1],l={page:t,topic:c};Object(a.useEffect)((function(){e(_(l))}),[t,c]);var o=p((function(e){return e.apiArticles.apiArticles}));return n?Object(j.jsxs)("div",{className:"modal is-active",children:[Object(j.jsx)("div",{className:"modal-background"}),Object(j.jsxs)("div",{className:"modal-card",children:[Object(j.jsxs)("header",{className:"modal-card-head",children:[Object(j.jsx)("p",{className:"modal-card-title",children:"Something went wrong"}),Object(j.jsx)("button",{className:"delete","aria-label":"close",type:"button",onClick:function(){r(!1)}})]}),Object(j.jsx)("section",{className:"modal-card-body",children:Object(j.jsx)("h1",{className:"",children:"Due to newsapi pricing policy, this is all we can offer you. But you can change the topic and try again"})}),Object(j.jsx)("footer",{className:"modal-card-foot"})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"title",children:"Newsapi Articles"}),Object(j.jsx)("button",{className:"button is-info",type:"submit",onClick:function(){if(10===t)return e(D()),void r(!0);e(M())},children:"Add 10"}),Object(j.jsx)("div",{className:"select is-info ml-6",children:Object(j.jsxs)("select",{value:c,onChange:function(t){var c=t.target.value;e(E(c)),e(D())},children:[Object(j.jsx)("option",{value:"ukraine",children:"Ukraine"}),Object(j.jsx)("option",{value:"apple",children:"Apple"}),Object(j.jsx)("option",{value:"bitcoin",children:"Bitcoin"}),Object(j.jsx)("option",{value:"world",children:"World"})]})}),Object(j.jsx)("div",{className:"container mt-5",children:Object(j.jsx)("div",{className:"columns is-multiline",children:o.map((function(e){var t=e.author,c=e.description,a=e.title,s=e.url,i=e.urlToImage,n=e.source;return Object(j.jsx)(J,{author:t,description:c,title:a,urlToImage:i,source:n},s)}))})})]})},R=function(e){var t=e.onCloseButton;return Object(j.jsxs)("div",{className:"modal is-active",children:[Object(j.jsx)("div",{className:"modal-background"}),Object(j.jsxs)("div",{className:"modal-card",children:[Object(j.jsxs)("header",{className:"modal-card-head",children:[Object(j.jsx)("p",{className:"modal-card-title",children:"Success"}),Object(j.jsx)("button",{className:"delete","aria-label":"close",type:"button",onClick:t})]}),Object(j.jsx)("section",{className:"modal-card-body",children:Object(j.jsx)("h1",{className:"has-text-success",children:"Article added successfully"})}),Object(j.jsx)("footer",{className:"modal-card-foot"})]})]})},W=function(){var e=m(),t=p((function(e){return e.articles.articles})),c=Object(a.useState)(""),s=Object(h.a)(c,2),i=s[0],n=s[1],r=Object(a.useState)(""),l=Object(h.a)(r,2),o=l[0],d=l[1],u=Object(a.useState)(""),b=Object(h.a)(u,2),x=b[0],f=b[1],v=Object(a.useState)(!1),g=Object(h.a)(v,2),y=g[0],A=g[1],w=Object(a.useState)(!1),k=Object(h.a)(w,2),C=k[0],S=k[1],F=!o&&y,P=!i&&y,T=!x&&y;return C?Object(j.jsx)(R,{onCloseButton:function(){S(!1)}}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"title",children:"Add Article"}),Object(j.jsxs)("form",{onSubmit:function(c){c.preventDefault(),i&&o&&x?(!function(){var c=i.trim(),a=o.trim(),s=x.trim(),n={id:Math.max.apply(Math,Object(O.a)(t.map((function(e){return e.id}))))+1,author:c,title:a,description:s};e(N(n))}(),n(""),d(""),f(""),A(!1),S(!0)):A(!0)},children:[Object(j.jsxs)("div",{className:"field",children:[Object(j.jsx)("label",{className:"label",children:"Author"}),Object(j.jsxs)("div",{className:"control",children:[Object(j.jsx)("input",{className:"input",type:"text",placeholder:"What is your name?",value:i,onChange:function(e){var t=e.target.value;n(t)}}),P&&Object(j.jsx)("span",{className:"has-text-danger",children:"Please enter your name"})]})]}),Object(j.jsxs)("div",{className:"field",children:[Object(j.jsx)("label",{className:"label",children:"Title"}),Object(j.jsxs)("div",{className:"control",children:[Object(j.jsx)("input",{className:"input",type:"text",placeholder:"Article title",value:o,onChange:function(e){var t=e.target.value;d(t)}}),F&&Object(j.jsx)("span",{className:"has-text-danger",children:"Please enter a title"})]})]}),Object(j.jsxs)("div",{className:"field",children:[Object(j.jsx)("label",{className:"label",children:"Description"}),Object(j.jsxs)("div",{className:"control",children:[Object(j.jsx)("textarea",{className:"textarea",placeholder:"Desctription",value:x,onChange:function(e){var t=e.target.value;f(t)}}),T&&Object(j.jsx)("span",{className:"has-text-danger",children:"Please enter a description"})]})]}),Object(j.jsx)("button",{className:"button is-info",type:"submit",children:"Add Article"})]})]})},q=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{}),Object(j.jsx)("section",{className:"section",children:Object(j.jsx)("div",{className:"container mt-5",children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/",element:Object(j.jsx)(S,{})}),Object(j.jsx)(o.a,{path:"/addarticle",element:Object(j.jsx)(W,{})}),Object(j.jsx)(o.a,{path:"/newsapi",element:Object(j.jsx)(Q,{})})]})})})]})},z=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,52)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,n=t.getTTFB;c(e),a(e),s(e),i(e),n(e)}))},G=Object(f.a)({reducer:{articles:w,apiArticles:B}});n.a.render(Object(j.jsx)(l.a,{store:G,children:Object(j.jsx)(r.a,{children:Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(q,{})})})}),document.getElementById("root")),z()}},[[51,1,2]]]);
//# sourceMappingURL=main.4dc2a92b.chunk.js.map